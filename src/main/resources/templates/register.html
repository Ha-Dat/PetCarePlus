<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ÄÄƒng kÃ½</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        .password-wrapper {
            position: relative;
        }
        .toggle-password {
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            cursor: pointer;
            color: #666;
        }
    </style>
</head>
<body class="bg">
<div class="login-container">
    <form th:action="@{/register}" method="post" class="form-box">
        <h2>ÄÄƒng kÃ½</h2>
        <input type="text" name="phone" placeholder="Sá»‘ Ä‘iá»‡n thoáº¡i" required />

        <div class="password-wrapper">
            <input type="password" name="password" placeholder="Máº­t kháº©u" id="password" required />
            <span class="toggle-password" onclick="togglePassword('password')">ğŸ‘</span>
        </div>

        <div class="password-wrapper">
            <input type="password" name="confirmPassword" placeholder="XÃ¡c nháº­n láº¡i máº­t kháº©u" id="confirmPassword" required />
            <span class="toggle-password" onclick="togglePassword('confirmPassword')">ğŸ‘</span>
        </div>

        <p th:if="${error}" th:text="${error}" style="color: red;"></p>
        <p th:if="${message}" th:text="${message}" style="color: green;"></p>
        <p th:if="${fieldError_password}" th:text="${fieldError_password}" style="color: red;"></p>

        <button type="submit">ÄÄ‚NG KÃ</button>
        <a th:href="@{/login}" class="link">Quay láº¡i Ä‘Äƒng nháº­p</a>
    </form>
</div>

<script>
    function togglePassword(id) {
        const input = document.getElementById(id);
        if (input.type === "password") {
            input.type = "text";
        } else {
            input.type = "password";
        }
    }
</script>
<!--<script>-->
<!--    document.querySelector("form").addEventListener("submit", function(event) {-->
<!--        const pwd = document.getElementById("password").value;-->
<!--        const confirmPwd = document.getElementById("confirmPassword").value;-->
<!--        const regex = /^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=\S+$).{8,}$/;-->

<!--        if (!regex.test(pwd)) {-->
<!--            alert("Máº­t kháº©u pháº£i cÃ³ Ã­t nháº¥t 8 kÃ½ tá»±, gá»“m chá»¯ hoa, chá»¯ thÆ°á»ng, sá»‘ vÃ  khÃ´ng chá»©a khoáº£ng tráº¯ng.");-->
<!--            event.preventDefault();-->
<!--            return;-->
<!--        }-->

<!--        if (pwd !== confirmPwd) {-->
<!--            alert("Máº­t kháº©u xÃ¡c nháº­n khÃ´ng khá»›p!");-->
<!--            event.preventDefault();-->
<!--        }-->
<!--    });-->
<!--</script>-->

</body>
</html>
